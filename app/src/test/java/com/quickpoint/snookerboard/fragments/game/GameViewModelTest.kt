package com.quickpoint.snookerboard.fragments.game

import androidx.test.ext.junit.runners.AndroidJUnit4
import com.google.common.truth.Truth.assertThat
import com.google.gson.Gson
import com.google.gson.reflect.TypeToken
import com.quickpoint.snookerboard.domain.*
import com.quickpoint.snookerboard.domain.BallType.*
import com.quickpoint.snookerboard.domain.DomainBall.*
import com.quickpoint.snookerboard.domain.DomainPot.*
import com.quickpoint.snookerboard.domain.PotAction.*
import com.quickpoint.snookerboard.utils.MatchRules.*
import org.junit.AfterClass
import org.junit.BeforeClass
import org.junit.Test
import org.junit.runner.RunWith
import timber.log.Timber

@RunWith(AndroidJUnit4::class)
internal class GameViewModelTest {
    companion object {
        private val printlnTree = object : Timber.DebugTree() {
            override fun log(priority: Int, tag: String?, message: String, t: Throwable?) {
                println("$tag: $message")
            }
        }

        @JvmStatic
        @BeforeClass
        fun setupClass() {
            Timber.plant(printlnTree)
        }

        @JvmStatic
        @AfterClass
        fun cleanupClass() {
            Timber.uproot(printlnTree)
        }

    }

    private val gameVm = GameViewModel()

    @Test
    fun handle_and_undo_pot_general() {
        gameVm.apply {
            RULES.assignRules(0, 1, 1, 4, 1, -1, 1, 0)
            resetMatch()
            assertThat(ballStack.size).isEqualTo(7 + RULES.reds * 2)

            val actionLogs: Array<DomainActionLog> = Gson().fromJson(jsonLogs, object : TypeToken<Array<DomainActionLog>>() {}.type)
            for (actionLog in actionLogs) {
                actionLog.apply {
                    if (description == "handlePot()") {
                        assignPot(potType, ballType.getBallFromValues(ballPoints), potAction ?: CONTINUE)
                    }
                }
            }
            repeat(actionLogs.size) { assignPot(null) }
            assertThat(ballStack.size).isEqualTo(9)
        }
    }
}

private const val jsonLogs =
    "[" +
            "{\"ballPoints\":1,\"ballStackLast\":\"TYPE_COLOR\",\"ballType\":\"TYPE_RED\",\"breakCount\":1,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"}" +
            ",{\"ballPoints\":5,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":2,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"}" +
            ",{\"ballPoints\":1,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":3,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"}" +
            ",{\"ballPoints\":2,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_YELLOW\",\"breakCount\":4,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"}" +
            ",{\"ballPoints\":5,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":5,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"}" +
            ",{\"ballPoints\":1,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":6,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":7,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"}" +
            ",{\"ballPoints\":3,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":8,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":9,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"}" +
            ",{\"ballPoints\":5,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":10,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"}" +
            ",{\"ballPoints\":1,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":11,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":12,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":13,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":14,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_SAFE\"}" +
            ",{\"ballPoints\":3,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_GREEN\",\"breakCount\":15,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_WHITE\",\"breakCount\":16,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"}" +
            ",{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":17,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":18,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"}" +
            ",{\"ballPoints\":4,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_BROWN\",\"breakCount\":19,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_WHITE\",\"breakCount\":20,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FOUL\"}" +
            ",{\"ballPoints\":5,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":21,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"}" +
            ",{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":22,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":23,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"}" +
            ",{\"ballPoints\":5,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":24,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"}" +
            ",{\"ballPoints\":6,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_PINK\",\"breakCount\":25,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"}" +
            ",{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":26,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":27,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":28,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"}" +
            ",{\"ballPoints\":5,\"ballStackLast\":\"TYPE_PINK\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":29,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"}" +
            ",{\"ballPoints\":6,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_PINK\",\"breakCount\":29,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"}" +
            ",{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":30,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"}" +
            ",{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":31,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":32,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":33,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"}" +
            ",{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":34,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"}" +
            ",{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":35,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":36,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"}" +
            ",{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":37,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"}" +
            ",{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":38,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"}" +
            ",{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":39,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"}" +
            ",{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":40,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"}" +
            ",{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":41,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"}" +
            ",{\"ballPoints\":7,\"ballStackLast\":\"TYPE_WHITE\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":41,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"}" +
            "]"

private const val jsonLogsAfterUndo =
    "[{\"ballPoints\":1,\"ballStackLast\":\"TYPE_COLOR\",\"ballType\":\"TYPE_RED\",\"breakCount\":1,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":2,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":3,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":2,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_YELLOW\",\"breakCount\":4,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":5,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":6,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":7,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":3,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":8,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":9,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":10,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":11,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":12,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":13,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":14,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_SAFE\"},{\"ballPoints\":3,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_GREEN\",\"breakCount\":15,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_WHITE\",\"breakCount\":16,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":17,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":18,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"},{\"ballPoints\":4,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_BROWN\",\"breakCount\":19,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_WHITE\",\"breakCount\":20,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":21,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":1,\"b\n" +
            "allStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":22,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":23,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":24,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"},{\"ballPoints\":6,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_PINK\",\"breakCount\":25,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":26,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":27,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":28,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_PINK\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":29,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":6,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_PINK\",\"breakCount\":29,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":30,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":31,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":32,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":33,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":34,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":35,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":36,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":37,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":38,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":39,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":40,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":41,\"description\":\"handlePot()\",\"frameCount\"\n" +
            ":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_WHITE\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":41,\"description\":\"handlePot()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_WHITE\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":41,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":40,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":39,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":38,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_BLACK\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":37,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_PINK\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":36,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":35,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_PINK\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":34,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_PINK\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":33,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_PINK\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":32,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":31,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_PINK\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":30,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":7,\"ballStackLast\":\"TYPE_PINK\",\"ballType\":\"TYPE_BLACK\",\"breakCount\":29,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":6,\"ballStackLast\":\"TYPE_PINK\",\"ballType\":\"TYPE_PINK\",\"breakCount\":29,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_BLUE\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":28,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":27,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":26,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":25,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":6,\"ballStackLast\":\"TYPE_BROWN\",\"ballType\":\"TYPE_PINK\",\"breakCount\":24,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_FREEBALL\",\"bre\n" +
            "akCount\":23,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":22,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":21,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":20,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_WHITE\",\"breakCount\":19,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":4,\"ballStackLast\":\"TYPE_GREEN\",\"ballType\":\"TYPE_BROWN\",\"breakCount\":18,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":17,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":16,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_WHITE\",\"breakCount\":15,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":3,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_GREEN\",\"breakCount\":14,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_COLOR\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":13,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_SAFE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_COLOR\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":12,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":11,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":10,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":9,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_NOBALL\",\"breakCount\":8,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_MISS\"},{\"ballPoints\":3,\"ballStackLast\":\"TYPE_COLOR\",\"ballType\":\"TYPE_FREEBALL\",\"breakCount\":7,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE\"},{\"ballPoints\":0,\"ballStackLast\":\"TYPE_FREEBALL\",\"ballType\":\"TYPE_FREEBALLTOGGLE\",\"breakCount\":6,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_TOGGLE\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":5,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":4,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":2,\"ballStackLast\":\"TYPE_YELLOW\",\"ballType\":\"TYPE_YELLOW\",\"breakCount\":3,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"},{\"ballPoints\":1,\"ballStackLast\":\"\n" +
            "TYPE_COLOR\",\"ballType\":\"TYPE_FREEBALLAVAILABLE\",\"breakCount\":2,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":1,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_FREE_AVAILABLE\"},{\"ballPoints\":5,\"ballStackLast\":\"TYPE_COLOR\",\"ballType\":\"TYPE_BLUE\",\"breakCount\":1,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"SWITCH\",\"potType\":\"TYPE_FOUL\"},{\"ballPoints\":1,\"ballStackLast\":\"TYPE_RED\",\"ballType\":\"TYPE_RED\",\"breakCount\":0,\"description\":\"HandleUndo()\",\"frameCount\":1,\"player\":0,\"potAction\":\"CONTINUE\",\"potType\":\"TYPE_HIT\"}]"
private const val potsIssuesAdjusted = "handlePot: pot: HIT(1, RED()); player: 0; breakCount: 1; ballStackLast: TYPE_COLOR; " +
        "handlePot: pot: FOUL(2, BLUE(5), SWITCH); player: 0; breakCount: 2; ballStackLast: TYPE_YELLOW; " +
        "handlePot: pot: FREEAVAILABLE(3); player: 1; breakCount: 3; ballStackLast: TYPE_YELLOW; " +
        "handlePot: pot: HIT(4, YELLOW()); player: 1; breakCount: 4; ballStackLast: TYPE_GREEN; " +
        "handlePot: pot: FOUL(5, BLUE(5), SWITCH); player: 1; breakCount: 5; ballStackLast: TYPE_GREEN; " +
        "handlePot: pot: FREEAVAILABLE(6); player: 0; breakCount: 6; ballStackLast: TYPE_GREEN; " +
        "handlePot: pot: FREETOGGLE(7); player: 0; breakCount: 7; ballStackLast: TYPE_FREEBALL; " +
        "handlePot: pot: FREE(8, FREEBALL(3)); player: 0; breakCount: 8; ballStackLast: TYPE_GREEN; " +
        "handlePot: pot: MISS(9); player: 0; breakCount: 9; ballStackLast: TYPE_GREEN; " +
        "handlePot: pot: FOUL((14, BLUE(5), SWITCH); player: 1; breakCount: 14; ballStackLast: TYPE_GREEN; " +
        "handlePot: pot: FREEAVAILABLE(15); player: 0; breakCount: 15; ballStackLast: TYPE_GREEN; " +
        "handlePot: pot: FREETOGGLE(16); player: 0; breakCount: 16; ballStackLast: TYPE_FREEBALL; " +
        "handlePot: pot: MISS(17); player: 0; breakCount: 17; ballStackLast: TYPE_GREEN; " +
        "handlePot: pot: SAFE(18); player: 1; breakCount: 18; ballStackLast: TYPE_GREEN; " +
        "handlePot: pot: HIT(19, GREEN()); player: 0; breakCount: 19; ballStackLast: TYPE_BROWN; " +
        "handlePot: pot: FOUL(20, WHITE(0), SWITCH); player: 0; breakCount: 20; ballStackLast: TYPE_BROWN; " +
        "handlePot: pot: FREEAVAILABLE(21); player: 1; breakCount: 21; ballStackLast: TYPE_BROWN; " +
        "handlePot: pot: MISS(22); player: 1; breakCount: 22; ballStackLast: TYPE_BROWN; " +
        "handlePot: pot: HIT(23, BROWN()); player: 0; breakCount: 23; ballStackLast: TYPE_BLUE; " +
        "handlePot: pot: FOUL(24, WHITE(0), CONTINUE); player: 0; breakCount: 24; ballStackLast: TYPE_BLUE; " +
        "handlePot: pot: FOUL(25, BLUE(5), SWITCH); player: 0; breakCount: 25; ballStackLast: TYPE_BLUE; " +
        "handlePot: pot: FREEAVAILABLE(26); player: 1; breakCount: 26; ballStackLast: TYPE_BLUE; " +
        "handlePot: pot: FREETOGGLE(27); player: 1; breakCount: 27; ballStackLast: TYPE_FREEBALL; " +
        "handlePot: pot: FREE(28, FREEBALL(5)); player: 1; breakCount: 28; ballStackLast: TYPE_BLUE; " +
        "handlePot: pot: FOUL(29, PINK(6), SWITCH); player: 1; breakCount: 29; ballStackLast: TYPE_BLUE; " +
        "handlePot: pot: FREEAVAILABLE(30); player: 0; breakCount: 30; ballStackLast: TYPE_BLUE; " +
        "handlePot: pot: FREETOGGLE(31); player: 0; breakCount: 31; ballStackLast: TYPE_FREEBALL; " +
        "handlePot: pot: MISS(32); player: 0; breakCount: 32; ballStackLast: TYPE_BLUE; " +
        "handlePot: pot: HIT(33, BLUE()); player: 1; breakCount: 33; ballStackLast: TYPE_PINK; " +
        "handlePot: pot: HIT(34, PINK()); player: 1; breakCount: 33; ballStackLast: TYPE_BLACK; " +
        "handlePot: pot: FOUL(37, BLACK(7), SWITCH); player: 1; breakCount: 36; ballStackLast: TYPE_BLACK; " +
        "handlePot: pot: FREEAVAILABLE(38); player: 0; breakCount: 37; ballStackLast: TYPE_BLACK; " +
        "handlePot: pot: FREETOGGLE(39); player: 0; breakCount: 38; ballStackLast: TYPE_FREEBALL; " +
        "handlePot: pot: MISS(40); player: 0; breakCount: 39; ballStackLast: TYPE_BLACK; " +
        "handlePot: pot: FOUL(41, BLACK(7), SWITCH); player: 1; breakCount: 40; ballStackLast: TYPE_BLACK; " +
        "handlePot: pot: FREEAVAILABLE(42); player: 0; breakCount: 41; ballStackLast: TYPE_BLACK; " +
        "handlePot: pot: FREETOGGLE(43); player: 0; breakCount: 42; ballStackLast: TYPE_FREEBALL; " +
        "handlePot: pot: FREE(44, FREEBALL(7)); player: 0; breakCount: 43; ballStackLast: TYPE_BLACK; " +
        "handlePot: pot: FOUL(45, BLACK(7), SWITCH); player: 0; breakCount: 44; ballStackLast: TYPE_BLACK; " +
        "handlePot: pot: FREEAVAILABLE(46); player: 1; breakCount: 45; ballStackLast: TYPE_BLACK; " +
        "handlePot: pot: FREETOGGLE(47); player: 1; breakCount: 46; ballStackLast: TYPE_FREEBALL; " +
        "handlePot: pot: FREE(48, FREEBALL(7)); player: 1; breakCount: 47; ballStackLast: TYPE_BLACK; " +
        "handlePot: pot: HIT(49, BLACK()); player: 1; breakCount: 47; ballStackLast: TYPE_WHITE; "
